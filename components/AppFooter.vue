<template>
  <footer class="bg-green-800 text-green-100 py-12 md:py-16">
    <div class="container mx-auto px-6">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <!-- Logo and Description -->
        <div class="space-y-4 text-center md:text-left">
          <div class="text-xl md:text-2xl font-bold tracking-wider text-white mb-2">
            <span class="inline-block align-middle mr-2">üå± Cao su gi·ªëng Tu·∫•n Anh</span>
          </div>
          <p class="text-sm md:text-base opacity-90">
            Kh√°m ph√°, Chia s·∫ª & Nu√¥i d∆∞·ª°ng ni·ªÅm ƒëam m√™ c√¢y xanh c·ªßa b·∫°n v·ªõi ch√∫ng t√¥i.
          </p>
          <div class="flex justify-center md:justify-start space-x-6 mt-4">
            <a
              href="https://www.facebook.com/caosugiongtuananh"
              aria-label="Facebook"
              class="hover:text-white transition-colors duration-300"
            >
              <img
                src="https://res.cloudinary.com/dbonwxmgl/image/upload/v1746092376/qgx8ou1dbf4ogr7g6bmw.png"
                alt="Facebook Logo"
                class="h-9 w-9"
              />
            </a>
            <a
              href="https://www.youtube.com/@caosugiongtuananh"
              aria-label="Youtube"
              class="hover:text-white transition-colors duration-300"
            >
              <img
                src="https://res.cloudinary.com/dbonwxmgl/image/upload/v1746092376/skrccs2d36g5hmixyfrw.png"
                alt="Youtube Logo"
                class="h-9 w-9"
              />
            </a>
            <a
              href="https://zalo.me/0979072768"
              aria-label="Zalo"
              class="hover:text-white transition-colors duration-300"
            >
              <img
                src="https://res.cloudinary.com/dbonwxmgl/image/upload/v1746092376/oiuvdbnx2i8xidl7c6ry.png"
                alt="Zalo Logo"
                class="h-9 w-9 bg-white rounded"
              />
            </a>
            <a
              href="https://www.google.com/maps/place/Nh%C3%A0+v%C4%83n+h%C3%B3a+khu+ph%E1%BB%91+4/@11.428879,106.3867057,11z/data=!4m9!1m2!2m1!1zS2h1IHBo4buRIDA3LCBIdXnhu4duIENoxqFuIFRow6BuaCwgVOG7iW5oIELDrG5oIFBoxrDhu5tj!3m5!1s0x3174ad003c2c9b23:0x4857ff7ec4e5e056!8m2!3d11.4289184!4d106.5587397!16s%2Fg%2F11xcnjcdlp?entry=ttu&g_ep=EgoyMDI1MDQzMC4xIKXMDSoASAFQAw%3D%3D"
              aria-label="Google Maps"
              class="hover:text-white transition-colors duration-300"
            >
              <img
                src="https://res.cloudinary.com/dbonwxmgl/image/upload/v1746093764/q8g8qpomxzkrz6wbr7h1.png"
                alt="Google Maps Logo"
                class="h-9 w-9"
              />
            </a>
          </div>
        </div>

        <!-- Quick Links -->
        <div class="text-center md:text-left">
          <h3 class="text-lg font-semibold mb-4 text-white">Li√™n k·∫øt nhanh</h3>
          <ul class="space-y-2">
            <li>
              <NuxtLink
                to="/"
                class="hover:underline hover:text-white transition-colors duration-300"
              >
                Trang ch·ªß
              </NuxtLink>
            </li>
            <li>
              <NuxtLink
                to="/plants"
                class="hover:underline hover:text-white transition-colors duration-300"
              >
                Danh m·ª•c C√¢y
              </NuxtLink>
            </li>
            <li>
              <NuxtLink
                to="/posts"
                class="hover:underline hover:text-white transition-colors duration-300"
              >
                B√†i vi·∫øt & M·∫πo
              </NuxtLink>
            </li>
            <li>
              <NuxtLink
                to="/gallery"
                class="hover:underline hover:text-white transition-colors duration-300"
              >
                V·ªÅ ch√∫ng t√¥i
              </NuxtLink>
            </li>
            <li>
              <NuxtLink
                to="/contact"
                class="hover:underline hover:text-white transition-colors duration-300"
              >
                Li√™n h·ªá
              </NuxtLink>
            </li>
          </ul>
        </div>

        <!-- Contact Information -->
        <div class="text-center md:text-left">
          <h3 class="text-lg font-semibold mb-4 text-white">Th√¥ng tin li√™n h·ªá</h3>
          <ul class="space-y-2">
            <li class="opacity-90">
              <strong>Email:</strong> caosugiongtuananh@gmail.com
            </li>
            <li class="opacity-90">
              <strong>ƒêi·ªán tho·∫°i:</strong> 0979 072 768
            </li>
            <li class="opacity-90">
              <strong>ƒê·ªãa ch·ªâ:</strong> Khu ph·ªë 07, Huy·ªán Ch∆°n Th√†nh, T·ªânh B√¨nh Ph∆∞·ªõc
            </li>
          </ul>
        </div>

        <!-- Consultation Form -->
        <div class="text-center md:text-left">
          <h3 class="text-lg font-semibold mb-4 text-white">Nh·∫≠n ƒëƒÉng k√Ω t∆∞ v·∫•n</h3>
          <p class="text-sm opacity-90 mb-4">ƒêƒÉng k√Ω t∆∞ v·∫•n th√¥ng qua Zalo!</p>
          <form @submit.prevent="handlePhoneSubmit" class="flex flex-col sm:flex-row gap-2 mt-4">
            <input
              ref="phoneInputRef"
              type="tel"
              placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i c·ªßa b·∫°n"
              required
              pattern="(0[3|5|7|8|9])+([0-9]{8})\b"
              title="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i Vi·ªát Nam h·ª£p l·ªá (VD: 09xxxxxxxx)"
              class="px-1 py-1 text-gray-800 rounded-md flex-1 focus:outline-none focus:ring-2 focus:ring-green-600 border border-gray-300"
              aria-label="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i ƒë·ªÉ nh·∫≠n t∆∞ v·∫•n qua Zalo"
            />
            <button
              type="submit"
              class="bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700 transition-colors duration-300 font-semibold shadow-sm"
            >
              Nh·∫≠n t∆∞ v·∫•n Zalo
            </button>
          </form>
        </div>
      </div>

      <!-- Footer Bottom -->
      <div class="mt-12 pt-6 border-t border-green-700 text-center text-sm opacity-70">
        <p>¬© {{ new Date().getFullYear() }} C√¢y gi·ªëng Tu·∫•n Anh. T·∫•t c·∫£ quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.</p>
      </div>
    </div>
  </footer>
</template>

<script setup>
import { ref } from 'vue';
import Swal from 'sweetalert2';
import 'sweetalert2/dist/sweetalert2.min.css';

const phoneInputRef = ref(null);
const recipientZaloNumber = '0979072768';

const handlePhoneSubmit = () => {
  if (!phoneInputRef.value) return;

  const phoneNumber = phoneInputRef.value.value.trim();
  if (!phoneNumber) {
    Swal.fire('L·ªói', 'Vui l√≤ng nh·∫≠p s·ªë ƒëi·ªán tho·∫°i c·ªßa b·∫°n.', 'warning');
    return;
  }

  const phoneRegex = /^(0[3|5|7|8|9])+([0-9]{8})\b$/;
  if (!phoneRegex.test(phoneNumber)) {
    Swal.fire('L·ªói', 'S·ªë ƒëi·ªán tho·∫°i kh√¥ng h·ª£p l·ªá. Vui l√≤ng ki·ªÉm tra l·∫°i (VD: 09xxxxxxxx).', 'warning');
    return;
  }

  const messageText = encodeURIComponent(
    `T√¥i mu·ªën ƒë∆∞·ª£c t∆∞ v·∫•n v·ªÅ c√¢y gi·ªëng. S·ªë ƒëi·ªán tho·∫°i c·ªßa t√¥i l√†: ${phoneNumber}`
  );
  const zaloLink = `https://zalo.me/${recipientZaloNumber}?text=${messageText}`;

  Swal.fire({
    title: 'M·ªü Zalo?',
    text: `B·∫°n s·∫Ω ƒë∆∞·ª£c chuy·ªÉn ƒë·∫øn Zalo ƒë·ªÉ g·ª≠i tin nh·∫Øn t∆∞ v·∫•n ƒë·∫øn s·ªë ${recipientZaloNumber}.`,
    icon: 'info',
    showCancelButton: true,
    confirmButtonText: 'M·ªü Zalo',
    cancelButtonText: 'H·ªßy b·ªè',
    customClass: {
      confirmButton: 'bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded',
      cancelButton: 'bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded ml-3',
    },
    buttonsStyling: false,
  }).then((result) => {
    if (result.isConfirmed) {
      window.open(zaloLink, '_blank');
      if (phoneInputRef.value) {
        phoneInputRef.value.value = '';
      }
    }
  });
};
</script>

<style scoped>
</style>
